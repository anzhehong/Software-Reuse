# Software-Reuse

> Source code and test code for Software Reuse class 2016 Spring

# Members

| Name        | Student Id           | Github Id  |
| ------------- |:-------------:| -----:|
| 林思妙| 1352849 | [linsimiao](https://github.com/linsimiao) | 
|  康慧琳     | 1352871      |   [1352871](https://github.com/1352871)|
| 安哲宏 | 1352834 | [anzhehong](https://github.com/anzhehong) |
| 张嘉琦 | 1352863      |   [kobpko](https://github.com/kobpko)  |

***

#项目管理文档一
>2016.03.29


##项目需求
该项目要求我们实现从客户端发送消息到服务端，服务端再将收到的消息转发给其他客户端。主要有以下功能：

- 用户注册
- 用户登录
- 用户发送消息给服务端，服务端有选择接收消息并转发给其他客户
- 记录用户发送的消息和服务端接收的消息
- 单元测试
- 产品文档



##需求分析
###系统用例
![usercase](http://7xsf2g.com1.z0.glb.clouddn.com/reuse-usercase.png)

##分工说明
- 安哲宏：架构搭建、数据库搭建、信息发送限制
- 张嘉琦：封装Aqtivemq基本功能、通迅的连接及信息收发
- 康慧琳：前端设计、文档整理、单元测试
- 林思妙：文档整理、功能测试


##架构
![architecture](http://7xsf2g.com1.z0.glb.clouddn.com/reuse-16.pic_hd.jpg)

##功能

项目分为Client和Server两部分。

- Server

  Server端主要提供判断用户登录是否成功功能和从客户端接收消息并转发功能。
Server有两种队列，一种是公有队列，一种是私有队列。公有队列负责记录用户登录的状态。它的每个私有队列分别对应一个client，用来接受客户发送的消息。初此之外，还通过Topic向所有用户转发消息。

- Client

  Client端主要提供用户登录以及向服务端发送消息和接收服务端的消息的功能。
Client 客户端在开启时会借由ActiveMQ消息中间件，通过Server的公有消息通道向Server传入用户名和密码，请求服务。如果收到登录成功的确认消息，即成功开启客户端，通过Server建立的私有消息队列传给Server消息，并接收返回的结果。如果在发送消息的过程中超过了limit（每秒发送超过5条消息或者累积发送超过100条消息），则断开连接重新登录。

##非功能

##组件的选择
- apache-activemq

  在Server向Clients转发消息的步骤，我们使用了apache-activemq消息中间件，依其所提供的Producer -Consumer 消息传递模式，将Server 作为
Consumer，将每一个Client 作为Producer，实现二者之间消息的互通并与其他Client 之间的消息独立。Client作为一个Subscriber接收Server通过
topic发送的所有消息。

- JUnit 

  使用了JUnit 4.0 来进行后期的测试。

- Spring+Hibernate

  使用了Spring+Hibernate来搭建项目的基本框架。









